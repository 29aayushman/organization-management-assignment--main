ğŸ“˜ Organization Management Service â€“ Multi-Tenant Backend (FastAPI + MongoDB)

This project implements a multi-tenant backend system that allows creating and managing organizations, where each organization receives its own dynamically generated MongoDB collection.
All organization metadata and admin user details are stored in a Master Database, making the design scalable and modular.

The backend is built using FastAPI, secured using JWT authentication, and uses bcrypt hashing for admin credentials.

ğŸš€ Features
âœ” Multi-Tenant Architecture

Each organization gets its own dedicated collection:

org_<organization_name>

âœ” Master Database

Stores:

Organization metadata

Admin credentials

Collection references

âœ” Secure Authentication

Passwords are hashed using bcrypt

JWT tokens issued using python-jose

âœ” REST Endpoints for

Create Organization

Get Organization

Update Organization

Delete Organization

Admin Login

ğŸ— Architecture Diagram

Include this PNG in your repository root:

ğŸ‘‰ architecture_diagram.png

client/admin â†’ FastAPI Backend â†’ Master Database â†’ Dynamic Collections


(Actual PNG is provided separately; ensure it is added to your repo.)

ğŸ“ Project Structure
app/
â”‚â”€â”€ main.py
â”‚â”€â”€ db.py
â”‚â”€â”€ schemas.py
â”‚â”€â”€ routes/
â”‚     â”œâ”€â”€ org_routes.py
â”‚     â”œâ”€â”€ admin_routes.py
â”‚â”€â”€ utils/
â”‚     â””â”€â”€ security.py
.env
requirements.txt
architecture_diagram.png
README.md

âš™ï¸ Tech Stack

FastAPI â€“ Python Web Framework

MongoDB â€“ NoSQL Database

Motor â€“ Async MongoDB Client

bcrypt â€“ Password Hashing

python-jose â€“ JWT Authentication

Uvicorn â€“ ASGI Server

ğŸ”§ Setup Instructions
1ï¸âƒ£ Clone the Repository
git clone <your-repo-url>
cd organization-management-service

2ï¸âƒ£ Create a .env File

Create a .env file in the project root with the following content:

MONGO_URL=mongodb://localhost:27017
MASTER_DB=organization_master

JWT_SECRET=your_super_secret_key_here
JWT_EXPIRES_IN=3600


Use any long random string for JWT_SECRET.

3ï¸âƒ£ Install Dependencies
pip install -r requirements.txt


If using Python 3.13:

C:/Users/<yourUser>/AppData/Local/Programs/Python/Python313/python.exe -m pip install -r requirements.txt

4ï¸âƒ£ Run the Server
uvicorn app.main:app --reload


The server will be available at:

http://127.0.0.1:8000

5ï¸âƒ£ Access API Documentation

Swagger UI automatically generated by FastAPI:

ğŸ‘‰ http://127.0.0.1:8000/docs

ğŸŒ API Endpoints
1. Create Organization

POST /org/create
Creates:

An organization entry in the master DB

A dynamic collection: org_<organization_name>

An admin user associated with that organization

2. Get Organization

GET /org/get
Fetch metadata from the master database.
Returns error if organization does not exist.

3. Update Organization

PUT /org/update
Updates organization name and syncs data to a new dynamic collection.

4. Delete Organization

DELETE /org/delete
Deletes:

The organization metadata

The associated dynamic collection

Requires authentication.

5. Admin Login

POST /admin/login
Validates credentials and returns a JWT token containing:

Admin identity

Organization identifier

ğŸ§  Design Choices
âœ” Multi-Tenant by Collection

Provides lightweight isolation for each organization without needing separate databases.

âœ” Master Database as a Central Registry

Keeps global configuration clean and manageable.

âœ” JWT-Based Authentication

Enables stateless sessions suitable for scalable services.

âœ” Async IO

FastAPI + Motor allows high-performance non-blocking database operations.

ğŸ“¦ Possible Enhancements

Role-based access control

Refresh token mechanism

Logging & monitoring

Rate limiting

Organization listing endpoints

Class-based service architecture

ğŸ“ Submission Package Includes

âœ” GitHub Repository

âœ” Detailed README

âœ” Architecture Diagram (PNG)

âœ” Instructions to Run

âœ” Multi-Tenant Backend Implementation